{% extends 'base.html' %} {% block head %}
<!-- Посилання на бібліотеку Leaflet -->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link
  rel="stylesheet"
  type="text/css"
  href="https://unpkg.com/leaflet/dist/leaflet.css"
  crossorigin=""
/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js" crossorigin=""></script>
<style>
  html,
  body {
    height: 100%;
    margin: 0;
  }
  #map {
    height: 100%;
    width: 100%;
  }
</style>
{% endblock %} {% block content %}
<div id="map"></div>
<script>
  // Ініціалізуємо карту
  var map = L.map("map").setView([48.297560, 25.937318], 13);

  // Додаємо плитку OpenStreetMap
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution:
      'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
    maxZoom: 18,
  }).addTo(map);

  // Завантажуємо точки геометрії з сервера та додаємо їх на карту  
  '{% for item in items %}'
  L.marker(['{{ item.geometry.y }}', '{{ item.geometry.x}}']).addTo(map).bindPopup(String('{{item.name}}'));
  '{% endfor %}'

</script>
{% endblock %}
